{% extends "_layout.html" %}

{% block stylesheet %}
<style type="text/css">
    body {
        padding: 40px;
    }
    .recipe-type {
        background-color: orange;
        color: white;
        padding: 5px 8px;
        font-size: 13px;
        border-color: #ffffff;
    }
    .recipe-cultural-origin {
        color: gray;
        margin-left: 5px;
        border: 1px solid rgba(200, 10, 3, 0.7);
        padding: 1px 10px;
        border-radius: 20px;
        display: inline-block;
        font-size: 14px;
        vertical-align: middle;
    }
    li {
        color: #000000;
    }

    .flex-comp {
        flex: 1;
    }
    .comment {
        border: 1px solid #dcdcdc;
        background-color: rgba(249, 249, 234, 0.21);
        padding: 15px 20px;
    }
</style>
{% endblock %}


{% block content %}
<div class="container-fluid">
    <div class="row ">
        <div class="col-md-offset-1 col-md-7">
            <h1>Yummy Sweet Potato Casserole</h1>
        </div>
    </div>
    <div class="row displayFlex">
        <div class="col-md-offset-1 col-md-2">
            <h4>by @jieweiwu</h4>
        </div>
        <div class="col-md-offset-0 col-md-2">
            <p><h4 class="btn btn-warning recipe-type">Entree</h4><span class="recipe-cultural-origin">Italy</span></p>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <h3>Ingredients</h4>
        </div>
    </div>
    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <ul>
                <li>4 cups sweet potato, cubed</li>
                <li>1/2 cup white sugar</li>
                <li>2 eggs, beaten</li>
                <li>1/2 teaspoon salt</li>
                <li>4 tablespoons butter, softened</li>
                <li>1/3 cup all-purpose flour</li>
                <li>3 tablespoons butter, softened</li>
                <li>1/2 cup chopped pecans</li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <h3>Description</h4>
        </div>
    </div>
    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <p>A delicious mashed sweet potato casserole with a crunchy pecan topping. Easy to make ahead, this recipe bakes in only 30 minutes.</p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <h3>Comments</h4>
        </div>
    </div>
    <div class="row commets-group margin-bottom-10">
        <div class="col-md-offset-1 col-md-4 comment">
            I really like it!
        </div>
    </div>
    <div class="row commets-group margin-bottom-10">
        <div class="col-md-offset-1 col-md-4 comment">
            My family begs me to make this creamy baked dish every Thanksgiving and Christmas. What makes it so good is the pecan topping! Try it and I'm sure it will become your new tradition!
        </div>
    </div>
    <div class="row commets-group margin-bottom-10">
        <div class="col-md-offset-1 col-md-4 comment">
            Thick and creamy. Uses leftover baked potatoes.
        </div>
    </div>

    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <h3>Leave a comment:</h4>
        </div>
    </div>
    <div class="row">
        <div class="col-md-offset-1 col-md-5">
            <div class="form-group">
              <textarea class="form-control" id="commentTextarea" rows="3"></textarea>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-offset-1 col-md-5">
            <button type="submit" id="commet-submit" class="btn btn-warning">Submit</button>
        </div>
    </div>
    
</div>
{% endblock %}


{% block jsscript %}
<script type="text/javascript">
    console.log('Should display recipe data')
    console.log('Utilize API data to fill in the html structure')

    let recipeId = "{{recipeId}}";

    $('#commet-submit').click(function() {
        let commentText = document.getElementById('commentTextarea').value;
        // [TODO]: get recipeOwnerEmail by {{recipeId}}
        // window.BACKEND_API.comments.add( recipeOwnerEmail, "{{recipeId}}", commentText )
    });

    // get comments by recipeId 
    
</script>
{% endblock %}